{% extends 'community/web/create-base.html' %}
{% load static %}
{% block static %}
  <link rel="stylesheet" href="{% static 'post/css/web/create-post.css' %}">
{% endblock %}
{% block title %}게시물 작성하기{% endblock %}
{% block content %}
  <div class="create-post-wrap">
    <div class="create-post-container">
      <form action="{% url 'post:create' %}" method="post" name="post-create-form" enctype="multipart/form-data">
        {% csrf_token %}
        <div
            class="sticky-container"
            style="
            position: sticky;
            top: 0px;
            transition: top 0.1s ease 0s;
            z-index: 500;
          "
        >
          <div class="header-wrap" style="position: relative;">
            <div class="header-container">
              <div class="nav-wrap">
                <a href="{% url 'main' %}" class="nav-logo">
                  <img
                      src="{% static 'public/web/images/common/logo-lettering-blk.png' %}"
                      width="72px"
                      height="25px"
                      alt=""
                  />
                </a>
                <div class="save-wrap">
                  <div class="save-container">
                    <button disabled=True type="submit" class="publish-btn">
                      <span class="publish-btn-text">발행신청</span>
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="main-wrap">
          <div class="main-container">
            <div class="main-slide-box">
              <div class="main-slide-item">
                <button type="button" id="drop-box-guide" class="slide-btn">
                  <div class="slide-text-box">
                    <div class="slide-icon-box">
                      <svg
                          xmlns="http://www.w3.org/2000/svg"
                          width="25"
                          height="25"
                          viewBox="0 0 25 25"
                          class="slide-icon"
                      >
                        <rect
                            width="25"
                            height="25"
                            fill="#fbccd4"
                            rx="10"
                        ></rect>
                        <g fill="#FFF" transform="translate(7 8)">
                          <rect width="7" height="1.5" rx="0.8"></rect>
                          <rect width="11" height="1.5" y="4" rx="0.8"></rect>
                          <rect width="11" height="1.5" y="8" rx="0.8"></rect>
                        </g>
                      </svg>
                    </div>
                    <div class="slide-text-top">게시물 작성 가이드</div>
                    <div class="slide-text-bottom">
                      원활한 게시물 작성을 위해 꼭 읽어주세요.
                    </div>
                  </div>
                  <div class="down-arrow-box">
                    <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="1em"
                        height="1em"
                        viewBox="0 0 16 16"
                        class="down-arrow"
                    >
                      <path
                          fill="currentColor"
                          fill-rule="evenodd"
                          d="M2.87 4L1.33 5.5 8 12l6.67-6.5L13.13 4 8 9z"
                      ></path>
                    </svg>
                  </div>
                </button>
                <div class="expanded" style="overflow: hidden;">
                  <div class="guide-content-wrap">
                    <ul class="guide-content-container">
                      <li>
                        <strong
                        >누구나 자유롭게 포스트를 작성할 수 있습니다..</strong
                        >
                      </li>
                      <li>
                        다음의 경우 게시글이 상의없이 삭제될 수 있습니다.
                        <ul>
                          <li>
                            욕설이나 비방이 포함된 글
                          </li>
                          <li>
                            등록되지 않은 업체의 홍보글
                          </li>
                        </ul>
                      </li>
                      <li>
                        다음의 경우 신고접수로 인해 게시글이 삭제될 수 있습니다.
                        <ul>
                          <li>
                            물품의 가품을 홍보하는 경우
                          </li>
                        </ul>
                      </li>
                      <li>
                        사진 첨부 시 용량은 장당 최대 20MB까지 업로드할 수 있고,
                        jpg, png, webp, heif, heic, gif 포맷을 지원합니다.
                      </li>
                      <li>
                        글 작성과 이미지 업로드 시, 타인의 지식재산권을 침해하지
                        않도록 유의해 주세요.
                      </li>
                    </ul>
                  </div>
                </div>
              </div>
              <div class="main-slide-item">
                <button type="button" id="drop-box-required" class="slide-btn">
                  <div class="slide-text-box">
                    <div class="slide-icon-box">
                      <svg
                          xmlns="http://www.w3.org/2000/svg"
                          width="26"
                          height="26"
                          viewBox="0 0 26 26"
                          class="slide-icon"
                      >
                        <rect
                            width="26"
                            height="26"
                            fill="#c06888"
                            rx="10"
                        ></rect>
                        <g fill="none" stroke="#FFF">
                          <path
                              stroke-linejoin="round"
                              stroke-width="1.2"
                              d="M15.06 8.65l-6.9 6.88L7 18.98l3.45-1.15 6.9-6.9-2.3-2.28z"
                          ></path>
                          <path
                              stroke-width="1.2"
                              d="M15.04 8.64l1.45-1.45a.65.65 0 01.93 0l1.37 1.38a.65.65 0 010 .92l-1.45 1.45"
                          ></path>
                          <path d="M8.27 15.2l2.48 2.47"></path>
                        </g>
                      </svg>
                    </div>
                    <div class="slide-text-top">필수 정보 입력</div>
                    <div class="slide-text-bottom">
                      게시물을 이해하는데 필요한 정보이니 꼼꼼하게 입력해주세요
                    </div>
                  </div>
                  <div class="down-arrow-box">
                    <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="1em"
                        height="1em"
                        viewBox="0 0 16 16"
                        class="down-arrow"
                    >
                      <path
                          fill="currentColor"
                          fill-rule="evenodd"
                          d="M2.87 4L1.33 5.5 8 12l6.67-6.5L13.13 4 8 9z"
                      ></path>
                    </svg>
                  </div>
                </button>
                <div class="expanded required-open" style="overflow: hidden;">
                  <div class="required-info-wrap">
                    <div class="required-info-container">
                      <div class="required-info-inner">
                        <div class="required-info-item-title-box">
                          카테고리<span class="required-info-item-title"
                        >*</span
                        >
                        </div>
                        <div class="required-info-item-wrap">
                          <div class="required-info-item">
                            <div class="required-info-item-inner">
                              <span class="required-info-item-box">
                                <div class="input-group select-input">
                                  <select name="post-category" class="form-control">
                                    <option value="" disabled selected
                                    >선택해주세요.</option
                                    >
                                    <option value="식물 키우기">식물 키우기</option>
                                    <option value="관련 제품">관련 제품</option>
                                    <option value="테라리움">테라리움</option>
                                    <option value="스타일링">스타일링</option>
                                  </select>
                                  <span class="select-input__icon">
                                    <svg
                                        width="10"
                                        height="10"
                                        preserveAspectRatio="xMidYMid meet"
                                        style="fill: currentcolor;"
                                    >
                                      <path
                                          fill-rule="evenodd"
                                          d="M0 3l5 5 5-5z"
                                      ></path>
                                    </svg>
                                  </span>
                                </div>
                              </span>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="required-info-inner">
                        <div class="required-info-item-title-box">
                          식물 종류<span class="required-info-item-title"
                        >*</span
                        >
                        </div>
                        <div class="required-info-item-wrap">
                          <div class="required-info-item">
                            <div class="info-dropdown-inner">
                              <label class="plant-selection">
                                <input type="checkbox" name="plant-type" value="관엽식물" style="display: none">
                                <div>관엽식물</div>
                              </label>

                              <label class="plant-selection">
                                <input type="checkbox" name="plant-type" value="침엽식물" style="display: none">
                                <div>침엽식물</div>
                              </label>

                              <label class="plant-selection">
                                <input type="checkbox" name="plant-type" value="희귀식물" style="display: none">
                                <div>희귀식물</div>
                              </label>

                              <label class="plant-selection">
                                <input type="checkbox" name="plant-type" value="다육" style="display: none">
                                <div>다육</div>
                              </label>

                              <label class="plant-selection">
                                <input type="checkbox" name="plant-type" value="선인장" style="display: none">
                                <div>선인장</div>
                              </label>

                              <label class="plant-selection">
                                <input type="checkbox" name="plant-type" value="기타" style="display: none">
                                <div>기타</div>
                              </label>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="required-info-inner">
                        <div class="required-info-item-title-box">
                          태그
                        </div>
                        <div class="required-info-item-wrap">
                          <div class="required-info-item">
                            <div class="required-info-item-inner">
                              <span class="required-info-item-box">
                                <div class="tag-input-box">
                                  <input
                                      class="tag-input"
                                      placeholder="# 태그"
                                      name="post-tags"
                                      maxlength="10"
                                      value=""
                                  />
                                </div>
                              </span>
                              <span class="empty-value" style="display: none;">
                                필수 항목 입니다.
                              </span>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="required-info-inner2">
                        <label class="selection">
                          <input type="checkbox"
                                 disabled=True
                                 class="ai-checkbox"
                                 name=""
                                 maxlength="10"
                                 hidden/>
                        </label>
                        <div class="required-info-item-title-box2">
                          AI추천태그
                        </div>
                        <input type="hidden" id="post-tags" name="post-tags" value=""> 
                        <img class="loading"  alt="Animated GIF" src="{% static 'public/web/images/common/loading.gif' %}" 
                             style="display: none"/>
                        <div class="required-info-item-wrap">
                          <div class="required-info-item">
                            <div class="required-info-item-inner">
                              <span class="required-info-item-box">
                                
                                <div class="tag-input-box">
                                  <input disabled=True
                                         class="tag-input2"
                                         placeholder="*태그를 자동 작성합니다. 제목과 내용 작성 후 사용 가능"
                                         name="post-tags"
                                         maxlength="10"
                                         value=""
                                  />
                                </div>
                              </span>
                              <span class="empty-value" style="display: none;">
                                필수 항목 입니다.
                              </span>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="required-info-inner">
                        <div class="tag-list"></div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="upload-wrap">
              <div class="prev-img-box">
                <img
                    src="{% static 'public/web/images/common/cancel.png' %}"
                    class="cancel"
                    width="30px"
                    height="30px"
                    alt=""
                />
              </div>
              <div class="upload-container">
                <input
                    type="file"
                    id="img-file"
                    name="img-file"
                    style="display: none;"
                />
                <label
                    for="img-file"
                    style="cursor: pointer;"
                    class="upload-btn"
                >
                  <p class="top-text-box">
                    <span class="top-text">커버 사진을 업로드해주세요.</span>
                  </p>
                  <p class="bottom-text-box">
                    *권장 사이즈<br/>모바일: 1920 x 1920, 최소 1400 x 1400(1:1
                    비율)<br/>PC: 1920 x 1080, 최소 1400 x 787(16:9 비율)<br/>
                  </p>
                  <div class="cover-add-coment">커버 사진 추가하기</div>
                </label>
              </div>
            </div>

            <div class="title-input-box">
              <input
                  type="text"
                  placeholder="제목을 입력해주세요."
                  maxlength="80"
                  class="title-input"
                  name="post-title"
                  value=""
              />
              <div class="title-count"><span class="count">0</span> / 80</div>
            </div>
          </div>
        </div>
        <div class="content-text-input-wrap">
          <div class="content-text-input-container">
            <div class="content-text-input-inner">
              <div class="content-text-input-box">
                  <textarea name="post-content" cols="87" rows="5" placeholder="내용을 입력해주세요." maxlength="3000"
                            minlength="1"
                            class="content-text-area"></textarea>
                <div class="knowhow-content-count">
                  <span class="content-count">0 </span> /
                  3000
                </div>

              </div>
            </div>
          </div>
        </div>
      </form>
    </div>
  </div>
{% endblock %}
{% block js %}
  <script>
    const csrf_token = '{{ csrf_token }}'
    const post_id = `{{ post.id }}`
    const member_id = '{{ request.session.member.id }}'
    const post_member_id = '{{ post.member_id }}'
    const reply_count = '{{ reply_count }}'
  </script>
  <script src="https://code.jquery.com/jquery-3.6.1.min.js"></script>
  <script src="https://rawgit.com/jackmoore/autosize/master/dist/autosize.min.js"></script>
  <script src="{% static 'post/js/web/create-post.js' %}"></script>
  <script src="{% static 'post/js/web/post-module.js' %}"></script>
{% endblock %}